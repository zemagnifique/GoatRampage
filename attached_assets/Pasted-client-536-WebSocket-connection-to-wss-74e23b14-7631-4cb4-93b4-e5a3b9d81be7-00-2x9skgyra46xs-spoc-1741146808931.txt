client:536 WebSocket connection to 'wss://74e23b14-7631-4cb4-93b4-e5a3b9d81be7-00-2x9skgyra46xs.spock.replit.dev/?token=zfVHBcUqSpZn' failed: 
setupWebSocket @ client:536
(anonymous) @ client:531Understand this errorAI
client:536 Uncaught (in promise) SyntaxError: Failed to construct 'WebSocket': The URL 'wss://localhost:undefined/?token=zfVHBcUqSpZn' is invalid.
    at setupWebSocket (client:536:19)
    at fallback (client:509:16)
    at WebSocket.<anonymous> (client:555:7)
setupWebSocket @ client:536
fallback @ client:509
(anonymous) @ client:555Understand this errorAI
chunk-WERSD76P.js?v=0bf262e2:21551 Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
engine.ts:48 WebSocket not ready, waiting for connection...
sendEvent @ engine.ts:48
join @ engine.ts:57
(anonymous) @ game.tsx:27
commitHookEffectListMount @ chunk-WERSD76P.js?v=0bf262e2:16915
commitPassiveMountOnFiber @ chunk-WERSD76P.js?v=0bf262e2:18156
commitPassiveMountEffects_complete @ chunk-WERSD76P.js?v=0bf262e2:18129
commitPassiveMountEffects_begin @ chunk-WERSD76P.js?v=0bf262e2:18119
commitPassiveMountEffects @ chunk-WERSD76P.js?v=0bf262e2:18109
flushPassiveEffectsImpl @ chunk-WERSD76P.js?v=0bf262e2:19490
flushPassiveEffects @ chunk-WERSD76P.js?v=0bf262e2:19447
performSyncWorkOnRoot @ chunk-WERSD76P.js?v=0bf262e2:18868
flushSyncCallbacks @ chunk-WERSD76P.js?v=0bf262e2:9119
commitRootImpl @ chunk-WERSD76P.js?v=0bf262e2:19432
commitRoot @ chunk-WERSD76P.js?v=0bf262e2:19277
finishConcurrentRender @ chunk-WERSD76P.js?v=0bf262e2:18805
performConcurrentWorkOnRoot @ chunk-WERSD76P.js?v=0bf262e2:18718
workLoop @ chunk-WERSD76P.js?v=0bf262e2:197
flushWork @ chunk-WERSD76P.js?v=0bf262e2:176
performWorkUntilDeadline @ chunk-WERSD76P.js?v=0bf262e2:384Understand this warningAI
game:1 Uncaught (in promise) Event {isTrusted: true, type: 'error', target: null, currentTarget: null, eventPhase: 0, …}
Promise.then
GameRenderer @ renderer.ts:21
GameEngine @ engine.ts:18
(anonymous) @ game.tsx:25
commitHookEffectListMount @ chunk-WERSD76P.js?v=0bf262e2:16915
commitPassiveMountOnFiber @ chunk-WERSD76P.js?v=0bf262e2:18156
commitPassiveMountEffects_complete @ chunk-WERSD76P.js?v=0bf262e2:18129
commitPassiveMountEffects_begin @ chunk-WERSD76P.js?v=0bf262e2:18119
commitPassiveMountEffects @ chunk-WERSD76P.js?v=0bf262e2:18109
flushPassiveEffectsImpl @ chunk-WERSD76P.js?v=0bf262e2:19490
flushPassiveEffects @ chunk-WERSD76P.js?v=0bf262e2:19447
performSyncWorkOnRoot @ chunk-WERSD76P.js?v=0bf262e2:18868
flushSyncCallbacks @ chunk-WERSD76P.js?v=0bf262e2:9119
commitRootImpl @ chunk-WERSD76P.js?v=0bf262e2:19432
commitRoot @ chunk-WERSD76P.js?v=0bf262e2:19277
finishConcurrentRender @ chunk-WERSD76P.js?v=0bf262e2:18805
performConcurrentWorkOnRoot @ chunk-WERSD76P.js?v=0bf262e2:18718
workLoop @ chunk-WERSD76P.js?v=0bf262e2:197
flushWork @ chunk-WERSD76P.js?v=0bf262e2:176
performWorkUntilDeadline @ chunk-WERSD76P.js?v=0bf262e2:384Understand this errorAI
engine.ts:48 WebSocket not ready, waiting for connection...
sendEvent @ engine.ts:48
(anonymous) @ engine.ts:49
setTimeout
sendEvent @ engine.ts:49
join @ engine.ts:57
(anonymous) @ game.tsx:27
commitHookEffectListMount @ chunk-WERSD76P.js?v=0bf262e2:16915
commitPassiveMountOnFiber @ chunk-WERSD76P.js?v=0bf262e2:18156
commitPassiveMountEffects_complete @ chunk-WERSD76P.js?v=0bf262e2:18129
commitPassiveMountEffects_begin @ chunk-WERSD76P.js?v=0bf262e2:18119
commitPassiveMountEffects @ chunk-WERSD76P.js?v=0bf262e2:18109
flushPassiveEffectsImpl @ chunk-WERSD76P.js?v=0bf262e2:19490
flushPassiveEffects @ chunk-WERSD76P.js?v=0bf262e2:19447
performSyncWorkOnRoot @ chunk-WERSD76P.js?v=0bf262e2:18868
flushSyncCallbacks @ chunk-WERSD76P.js?v=0bf262e2:9119
commitRootImpl @ chunk-WERSD76P.js?v=0bf262e2:19432
commitRoot @ chunk-WERSD76P.js?v=0bf262e2:19277
finishConcurrentRender @ chunk-WERSD76P.js?v=0bf262e2:18805
performConcurrentWorkOnRoot @ chunk-WERSD76P.js?v=0bf262e2:18718
workLoop @ chunk-WERSD76P.js?v=0bf262e2:197
flushWork @ chunk-WERSD76P.js?v=0bf262e2:176
performWorkUntilDeadline @ chunk-WERSD76P.js?v=0bf262e2:384Understand this warningAI
engine.ts:48 WebSocket not ready, waiting for connection...
sendEvent @ engine.ts:48
(anonymous) @ engine.ts:49
setTimeout
sendEvent @ engine.ts:49
(anonymous) @ engine.ts:49
setTimeout
sendEvent @ engine.ts:49
join @ engine.ts:57
(anonymous) @ game.tsx:27
commitHookEffectListMount @ chunk-WERSD76P.js?v=0bf262e2:16915
commitPassiveMountOnFiber @ chunk-WERSD76P.js?v=0bf262e2:18156
commitPassiveMountEffects_complete @ chunk-WERSD76P.js?v=0bf262e2:18129
commitPassiveMountEffects_begin @ chunk-WERSD76P.js?v=0bf262e2:18119
commitPassiveMountEffects @ chunk-WERSD76P.js?v=0bf262e2:18109
flushPassiveEffectsImpl @ chunk-WERSD76P.js?v=0bf262e2:19490
flushPassiveEffects @ chunk-WERSD76P.js?v=0bf262e2:19447
performSyncWorkOnRoot @ chunk-WERSD76P.js?v=0bf262e2:18868
flushSyncCallbacks @ chunk-WERSD76P.js?v=0bf262e2:9119
commitRootImpl @ chunk-WERSD76P.js?v=0bf262e2:19432
commitRoot @ chunk-WERSD76P.js?v=0bf262e2:19277
finishConcurrentRender @ chunk-WERSD76P.js?v=0bf262e2:18805
performConcurrentWorkOnRoot @ chunk-WERSD76P.js?v=0bf262e2:18718
workLoop @ chunk-WERSD76P.js?v=0bf262e2:197
flushWork @ chunk-WERSD76P.js?v=0bf262e2:176
performWorkUntilDeadline @ chunk-WERSD76P.js?v=0bf262e2:384Understand this warningAI
engine.ts:48 WebSocket not ready, waiting for connection...
sendEvent @ engine.ts:48
(anonymous) @ engine.ts:49
setTimeout
sendEvent @ engine.ts:49
(anonymous) @ engine.ts:49
setTimeout
sendEvent @ engine.ts:49
(anonymous) @ engine.ts:49
setTimeout
sendEvent @ engine.ts:49
join @ engine.ts:57
(anonymous) @ game.tsx:27
commitHookEffectListMount @ chunk-WERSD76P.js?v=0bf262e2:16915
commitPassiveMountOnFiber @ chunk-WERSD76P.js?v=0bf262e2:18156
commitPassiveMountEffects_complete @ chunk-WERSD76P.js?v=0bf262e2:18129
commitPassiveMountEffects_begin @ chunk-WERSD76P.js?v=0bf262e2:18119
commitPassiveMountEffects @ chunk-WERSD76P.js?v=0bf262e2:18109
flushPassiveEffectsImpl @ chunk-WERSD76P.js?v=0bf262e2:19490
flushPassiveEffects @ chunk-WERSD76P.js?v=0bf262e2:19447
performSyncWorkOnRoot @ chunk-WERSD76P.js?v=0bf262e2:18868
flushSyncCallbacks @ chunk-WERSD76P.js?v=0bf262e2:9119
commitRootImpl @ chunk-WERSD76P.js?v=0bf262e2:19432
commitRoot @ chunk-WERSD76P.js?v=0bf262e2:19277
finishConcurrentRender @ chunk-WERSD76P.js?v=0bf262e2:18805
performConcurrentWorkOnRoot @ chunk-WERSD76P.js?v=0bf262e2:18718
workLoop @ chunk-WERSD76P.js?v=0bf262e2:197
flushWork @ chunk-WERSD76P.js?v=0bf262e2:176
performWorkUntilDeadline @ chunk-WERSD76P.js?v=0bf262e2:384Understand this warningAI
engine.ts:22 WebSocket connection established
466engine.ts:41 Error parsing game state: TypeError: state.players.values is not a function
    at PhysicsEngine.updatePlayerMovement (physics.ts:15:30)
    at PhysicsEngine.update (physics.ts:10:10)
    at GameEngine.update (engine.ts:73:18)
    at GameEngine.socket.onmessage (engine.ts:39:14)